(window.webpackJsonp=window.webpackJsonp||[]).push([[126,131],{"065W":function(module,exports,e){},"3AUy":function(module,exports,e){var t=e("065W"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},EQna:function(module,exports,e){},XFHP:function(module,e,t){"use strict";var n=t("lSNA"),a=t.n(n),r=t("VbXa"),i=t.n(r),o=t("q1tI"),s=t.n(o),u=t("XBa+"),c=t("uhOI"),m=t("d3Ej"),l=t.n(m),d=t("EqTq"),p=t("HOoY"),f=t("zaiP"),b=t("scbn"),S=t("qJwm"),v=t("F9Z8"),g=t("CnKM"),h=t("8ec0"),E=t("KvdX"),I=t("rQpo"),y=t("Cqp/"),D=t("lEBL"),C=t.n(D),T=t("PB6g");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=Object(d.a)("SubmissionControls"),P=function(e){function SubmissionControls(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={canSubmit:!1,announcement:""},t.onSubmitClick=function(){var e=t.props,n=e.hasUnfilledResponses,a=e.updateAndSubmitDraft,r=e.showModal,i=function trackedUpdateAndSubmitDraft(){return a&&a().then(function(){p.a.trackComponent({namespace:{app:"open_course",page:"item_page"}},{},"submit","quiz")})};n?r({type:E.a.unansweredQuestions,props:{onPrimaryButtonClick:i}}):a&&(t.setAnnouncement(l()("Submitting assignment")),i())},t.enableSubmit=function(){t.setState({canSubmit:!0})},t.disableSubmit=function(){t.setState({canSubmit:!1})},t.autoSubmit=function(){var e=t.props,n=e.showModal,a=e.hideModal,r=e.submitLatestSubmissionDraft;n({type:E.a.timeExpiredModal,props:{onPrimaryButtonClick:a}}),r&&r()},t.startAutoSubmitTimeout=function(){var e=t.props.expiresAt;"number"==typeof e&&(t.autoSubmitTimeout=window.setTimeout(t.autoSubmit,e-Date.now()))},t.setAnnouncement=function(e){t.setState({announcement:e},function(){setTimeout(function(){t.setState({announcement:""})},150)})},t.updateDraft=function(){var e=t.props.updateDraft;e&&(t.setAnnouncement(l()("Saving draft submission")),e().then(function(){t.setAnnouncement(l()("Draft submission saved successfully"))}))},t}i()(SubmissionControls,e);var t=SubmissionControls.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.hasDraft,n=e.autoSaveDraft,a=e.submitLatestSubmissionDraft;!t&&n&&n(),a&&this.startAutoSubmitTimeout()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props.expiresAt;e.expiresAt!==t&&this.autoSubmitTimeout&&(clearTimeout(this.autoSubmitTimeout),this.autoSubmitTimeout=null,this.startAutoSubmitTimeout())},t.componentWillUnmount=function componentWillUnmount(){this.autoSubmitTimeout&&clearTimeout(this.autoSubmitTimeout)},t.render=function render(){var e=this,t=this.props,n=t.stepState,a=n.isSaving,r=n.isSubmitting,i=n.isAutoSaving,o=t.stepState,m=t.setStepState,d=t.updateDraft,p=t.updateAndSubmitDraft,g=this.state,h=g.canSubmit,E=g.announcement,D=a||i||r;return s.a.createElement(f.a,null,function(t){var n=t.item;if(n&&n.isPremiumGradingLocked)return s.a.createElement("div",{className:A("upgrade-button")},s.a.createElement(I.a,{courseId:n.courseId}));return s.a.createElement("div",{className:A()},s.a.createElement("div",{className:A("honor-code-and-feedback")},s.a.createElement(v.a,{onAgreementComplete:e.enableSubmit,onAgreementIncomplete:e.disableSubmit}),s.a.createElement(b.a,{computedItem:n,itemFeedbackType:S.c.Quiz})),s.a.createElement("div",{className:A("buttons")},d&&s.a.createElement(u.a,{onClick:e.updateDraft,disabled:D,apiStatus:a||i?c.c:c.a,type:"secondary",rootClassName:A("button"),apiStatusAttributesConfig:{label:{API_BEFORE_SEND:l()("Save"),API_IN_PROGRESS:l()("Saving...")}}}),p&&s.a.createElement(u.a,{onClick:e.onSubmitClick,disabled:D||!h,apiStatus:r?c.c:c.a,type:"primary",rootClassName:A("button"),apiStatusAttributesConfig:{label:{API_BEFORE_SEND:l()("Submit"),API_IN_PROGRESS:l()("Submittingâ€¦")}}})),s.a.createElement(T.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},E&&s.a.createElement("span",null,E)),s.a.createElement(y.a,{stepState:o,setStepState:m}))})},SubmissionControls}(s.a.Component),w=function SubmissionControlsContainer(e){var t=e.saveDraft,n=e.submitDraft,a=e.hasTimer,r=e.itemId,i=e.isSubmitted;if(!t||!n)return null;if(!a)return s.a.createElement(E.b,null,function(a){var r=a.showModal,o=a.hideModal;return i?null:s.a.createElement(P,_objectSpread(_objectSpread({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:r,hideModal:o}))});return s.a.createElement(g.a,{id:Object(h.a)(r)},function(a){var r=a.expiresAt;return s.a.createElement(E.b,null,function(a){var o=a.showModal,u=a.hideModal;return i?null:s.a.createElement(P,_objectSpread(_objectSpread({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:o,hideModal:u,expiresAt:r}))})})};e.a=w},es0X:function(module,e,t){"use strict";t.r(e);var n=t("q1tI"),a=t.n(n),r=t("PDuk"),i=t("zaiP"),o=t("LHEl"),s=t("vTTJ"),u=function SubmittedAttemptPage(e){var t=e.nextItemUrl;return a.a.createElement(i.a,null,function(e){var n=e.item;if(!n||!n.contentSummary)return null;return a.a.createElement(o.a,{courseId:n.courseId,itemId:n.id},function(e){var i=e.loading,o=e.lastSessionId;if(i)return null;var u=Object(r.c)([n.courseId,n.id,null!=o?o:""]);return a.a.createElement(s.default,{examSessionId:u,nextItemUrl:t})})})};e.default=u},lEBL:function(module,exports,e){var t=e("EQna"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},vTTJ:function(module,e,t){"use strict";t.r(e),t.d(e,"AttemptPage",function(){return L}),t.d(e,"withRedirectToCover",function(){return M});var n=t("VbXa"),a=t.n(n),r=t("q1tI"),i=t.n(r),o=t("MnCE"),s=t("EqTq"),u=t("m10x"),c=t("+LJP"),m=t("usGt"),l=t("LHEl"),d=t("oe9u"),p=t("/oRK"),f=t("XFHP"),b=t("22Sa"),S=t("eK4/"),v=t("aBK/"),g=t("uAMc"),h=t("RH4a"),E=t("zaiP"),I=t("wIYG"),y=t("kYu0"),D=t("4QSv"),C=t("8ec0"),T=t("l0R+"),A=t("RLfs"),P=t("pJaO"),w=t("v4A+"),O=t("GZYn"),k=t("VtNW"),j=t.n(k),x=t("3AUy"),N=t.n(x),R=Object(s.a)("AttemptPage"),L=function(e){function AttemptPage(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={showSkillTaggingDialog:!1},t.handleKeepLearningClick=function(){t.setState({showSkillTaggingDialog:!0})},t}a()(AttemptPage,e);var t=AttemptPage.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.shouldRedirectToCover,n=e.redirectToCover;t&&n()},t.render=function render(){var e=this,t=this.props,n=t.redirectToCover,a=t.redirectToNextItem,r=t.addRedirectToCoverToRouteParams,o=t.examSessionId,s=this.state.showSkillTaggingDialog;return i.a.createElement(E.a,null,function(t){var c=t.item;if(!c)return null;return i.a.createElement(y.a,{standardProctorConfigurationId:c.contentSummary&&"exam"===c.contentSummary.typeName&&c.contentSummary.definition.standardProctorConfigurationId||null},function(t){var m=t.shouldShowTimer,E=t.secondsLeftInLatestAttempt,y=t.refetch,k=t.remainingAttempts;return i.a.createElement(b.a,{onClose:n,backbuttonAriaLabel:j()("Back"),headerLeft:i.a.createElement(d.a,{headerText:c.name,itemTypeText:j()("Graded Quiz"),timeCommitment:c.timeCommitment}),headerRight:i.a.createElement(v.a,{courseId:c.courseId,itemId:c.id,examSessionId:o},function(e){var t=e.isSubmitted;return i.a.createElement(p.a,{deadline:c.deadline,remainingTimeInMs:"number"==typeof E?1e3*E:null,showTimer:m&&!t,timerId:Object(C.a)(c.id)})}),topBanner:i.a.createElement(v.a,{courseId:c.courseId,itemId:c.id,examSessionId:o},function(t){var a=t.isSubmitted,r,o=(c.contentSummary&&"exam"===c.contentSummary.typeName&&c.contentSummary.definition||{}).passingFraction;if(a&&c.itemGrade){var s,u=(c.itemGrade||{}).isPassed,m=Object(O.b)(u,c.isCumulativeGraded,k);return i.a.createElement(l.a,{courseId:c.courseId,itemId:c.id},function(t){var a=t.lockingConfigurationSummary,r=t.bestEvaluation;return i.a.createElement("div",null,i.a.createElement(D.a,{itemGrade:c.itemGrade,computedScore:(r||{}).score,maxScore:(r||{}).maxScore,passingFraction:o,isCumulativeGraded:c.isCumulativeGraded,onKeepLearningClick:e.handleKeepLearningClick,remainingAttempts:k,lockingConfigurationSummary:a,onTryAgainClick:n}),Object(P.b)()&&m===O.a.PASSED&&i.a.createElement(P.a,{courseId:c.courseId,itemId:c.id}))})}return null})},i.a.createElement(w.a,{courseId:c.courseId,itemId:c.id},function(e){var t=e.postQuizSuggestions,n=e.loading;return i.a.createElement(v.a,{courseId:c.courseId,itemId:c.id,onQuizSessionQueryCompleted:function onQuizSessionQueryCompleted(){return y()},examSessionId:o},function(e){var a=e.quizFormData,o=e.sessionId,s=e.nextSubmissionDraftId,l=e.attemptScore,d=e.totalPoints,p=e.isSubmitted,b=e.hasDraft,v=e.isLimitedFeedback;if(!a||n||!o)return i.a.createElement(I.a,null);if(v)return null;var E=a.map(function(e){return e.prompt.id});return i.a.createElement(h.a,{itemId:c.id,courseId:c.courseId},function(e){var n=e.stepState,v=e.setStepState;return i.a.createElement("div",{className:R()},i.a.createElement("div",{className:R("header")},i.a.createElement(u.h,{tag:"h2"},c.name),p&&"number"==typeof l?i.a.createElement("div",{className:R("submission-grade")},i.a.createElement(u.l,{tag:"span"},j()("Latest Submission Grade")),i.a.createElement("div",{className:R("grade-percent")},"".concat(Object(T.a)(l),"%"))):i.a.createElement(u.a,{rootClassName:R("points")},i.a.createElement(u.l,{tag:"span"},j()("Total points #{totalPoints}",{totalPoints:d})))),i.a.createElement("div",{className:R("prompts")},a.map(function(e,a){return i.a.createElement(S.a,{key:e.prompt.id,quizQuestion:e,postQuizSuggestions:(p&&t||[]).find(function(t){return t.id===e.prompt.id}),index:a,isReadOnly:!!p,isDisabled:!!(n||{}).isSaving||!!(n||{}).isSubmitting})})),i.a.createElement(g.a,{ids:E,sessionId:o,nextSubmissionDraftId:s},function(e){var t=e.hasUnfilledResponses,a=e.saveDraft,o=e.autoSaveDraft,s=e.submitDraft,u=e.submitLatestSubmissionDraft;return i.a.createElement(f.a,{hasUnfilledResponses:t,itemId:c.id,courseId:c.courseId,saveDraft:a,autoSaveDraft:o,isSubmitted:p,submitDraft:function submitDraft(){return s?s().then(function(){r()}):Promise.reject()},submitLatestSubmissionDraft:function submitLatestSubmissionDraft(){return u?u().then(function(){r()}):Promise.reject()},hasTimer:m,hasDraft:b,stepState:n,setStepState:v})}))})})}),s&&i.a.createElement(A.b,{hideDialogDuringLoading:!1,scrollLockQuerySelector:".rc-TunnelVisionWrapper__content",dialogTitle:j()("Help us identify the right topics"),dialogDescription:j()("Select the skills that are covered in this quiz"),onClose:a,courseId:c.courseId,itemId:c.id}))})})},AttemptPage}(i.a.Component),M=Object(o.compose)(m.a,Object(c.a)(function(e,t){var n=t.nextItemUrl,a=void 0===n?"":n,r=t.refetchCoverPageData,i=t.refreshProgress,o=function redirectToCover(){r&&r(),e.push({name:"quiz-cover",params:e.params,query:e.location.query}),i()};return{redirectToCover:o,redirectToNextItem:function redirectToNextItem(){a?(e.push(a),i()):o()},addRedirectToCoverToRouteParams:function addRedirectToCoverToRouteParams(){e.push({name:"quiz-attempt",params:e.params,query:{redirectToCover:!0}})},shouldRedirectToCover:e.location.query.redirectToCover}}));e.default=M(L)}}]);
//# sourceMappingURL=126.675ba94746ee2d0c1c9f.js.map